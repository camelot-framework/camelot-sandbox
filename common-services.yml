maven:
  image: nginx
  dns: 172.17.42.1
  expose:
    - 80:80
camelot:
  image: maven:3.3.3-jdk-8
  dns: 172.17.42.1
  volumes:
    - target/camelot/bin:/etc/camelot/bin
    - src/main/resources/camelot/conf:/etc/camelot/conf:ro
    - target/camelot/lib:/etc/camelot/lib:ro
    - target/camelot/plugins:/etc/camelot/plugins:ro
    - target/camelot/webapps:/etc/camelot/webapps:ro
  command: /bin/sh -c 'chmod +x /etc/camelot/bin/run.sh && /etc/camelot/bin/run.sh start && tail -f /etc/camelot/log/camelot.log'
  environment:
    JAVA_HOME: /usr/lib/jvm/java-8-openjdk-amd64
hazelcast:
  image: hazelcast/hazelcast:3.5
  expose:
    - 5701:5701
  dns: 172.17.42.1
  environment:
    HZ_VERSION: 3.5
  volumes:
    - src/main/resources/hazelcast:/run:ro
  command: /bin/sh -c '/run/run.sh'
